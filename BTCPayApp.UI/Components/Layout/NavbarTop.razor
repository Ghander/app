@using BTCPayApp.CommonServer.Models
@using BTCPayApp.UI.Features
@inject IState<UIState> UIState

<header id="NavbarTop" class="btcpay-header d-flex flex-column">
    <div id="NavbarTopHead">
        <button id="NavbarTopToggle" class="mainMenuButton" type="button" data-bs-toggle="offcanvas" data-bs-target="#MainNav" aria-controls="MainNav" aria-expanded="false" aria-label="Toggle navigation">
            <span>Menu</span>
        </button>
        <NavLink class="navbar-brand py-2" href="@Routes.Dashboard" Match="NavLinkMatch.All">
            @if (!string.IsNullOrEmpty(InstanceInfo?.LogoUrl))
            {
                <img src="@InstanceInfo.LogoUrl" alt="@(InstanceInfo?.ServerName ?? "BTCPay Server")" class="main-logo main-logo-custom " />
            }
            else
            {
                <svg xmlns="http://www.w3.org/2000/svg" role="img" alt="BTCPay Server" class="main-logo main-logo-btcpay">
                    <use href="_content/BTCPayApp.UI/img/logo.svg#small" class="main-logo-btcpay--small"/>
                    <use href="_content/BTCPayApp.UI/img/logo.svg#large" class="main-logo-btcpay--large"/>
                </svg>
            }
        </NavLink>
    </div>
    <nav id="NavbarTopNav" class="d-flex flex-column justify-content-between">
        <div class="accordion px-3 px-lg-4">
            <div class="accordion-item">
                <div class="accordion-body">
                    <ul class="navbar-nav">
                        <li class="nav-item">
                            <NavLink class="nav-link" href="@Routes.Dashboard" Match="NavLinkMatch.All">
                                <Icon Symbol="nav-store"/>
                                <span>Dashboard</span>
                            </NavLink>
                        </li>
                        <li class="nav-item">
                            <NavLink class="nav-link" href="@Routes.WalletSetup" Match="NavLinkMatch.All">
                                <Icon Symbol="wallet-existing"/>
                                <span>Wallet</span>
                            </NavLink>
                        </li>
                        <li class="nav-item">
                            <NavLink class="nav-link" href="@Routes.PointOfSale" Match="NavLinkMatch.All">
                                <Icon Symbol="nav-pointofsale"/>
                                <span>Point Of Sale</span>
                            </NavLink>
                        </li>
                        <li class="nav-item">
                            <NavLink class="nav-link" href="@Routes.Settings" Match="NavLinkMatch.All">
                                <Icon Symbol="nav-settings"/>
                                <span>Settings</span>
                            </NavLink>
                        </li>
                        <li class="nav-item">
                            <NavLink class="nav-link" href="@Routes.Logout" Match="NavLinkMatch.All">
                                <Icon Symbol="actions-remove"/>
                                <span>Logout</span>
                            </NavLink>
                        </li>
                    </ul>
                </div>
            </div>
        </div>
    </nav>
</header>

@code {
    private AppInstanceInfo? InstanceInfo => UIState.Value.Instance?.Data;
}
