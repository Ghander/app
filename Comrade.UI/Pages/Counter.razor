@page "/"

@using Comrade.UI.Features.Counter
@using Fluxor
@inherits Fluxor.Blazor.Web.Components.FluxorComponent
<PageTitle>Counter</PageTitle>

<h1>Counter</h1>

<HxProgressIndicator InProgress="@CounterState.Value.Loading">

<p role="status">Current count: @CounterState.Value.ClickCount</p>
<button class="btn btn-primary" @onclick="IncrementCount">Click me</button>
</HxProgressIndicator>



@code {
    [Inject]
    private IState<CounterState> CounterState { get; set; } = null!;

    [Inject]
    public IDispatcher Dispatcher { get; set; } = null!;

    private void IncrementCount()
    {
        Dispatcher.Dispatch(new CounterState.IncrementCounterAction());
    }

}